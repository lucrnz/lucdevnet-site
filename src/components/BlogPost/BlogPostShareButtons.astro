---
import { siteTitle } from "~/consts";

export type Props = {
  title: string;
  summary: string;
}

const { title, summary } = Astro.props;

const shareURL = new URL(Astro.url.pathname, Astro.site).toString();
const shareText = `Check out this article by ${siteTitle}: ${title}`;
const shareTextWithURL = `${shareText} - ${shareURL}`;
---

<div class="flex flex-row items-center gap-2 max-w-min print:hidden">
  <a
    title="Share on X"
    href={`https://x.com/intent/tweet?${new URLSearchParams({ text: `${title} - ${siteTitle}`, url: shareURL })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M18.205 2.25h3.308l-7.227 8.26l8.502 11.24H16.13l-5.214-6.817L4.95 21.75H1.64l7.73-8.835L1.215 2.25H8.04l4.713 6.231zm-1.161 17.52h1.833L7.045 4.126H5.078z"/></svg>
  </a>
  <a
    title="Share on LinkedIn"
    href={`https://www.linkedin.com/shareArticle?${new URLSearchParams({ mini: "true", title: `${title} - ${siteTitle}`, url: shareURL, summary, source: (Astro.site ?? Astro.url).host })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/></svg>
  </a>
  <a
    title="Share via WhatsApp"
    href={`https://wa.me/?${new URLSearchParams({ text: shareTextWithURL })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M19.05 4.91A9.816 9.816 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.264 8.264 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.183 8.183 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07c0 1.22.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28"/></svg>
  </a>
  <a
    title="Share via Telegram"
    href={`https://t.me/share/?${new URLSearchParams({ url: shareURL, text: shareText })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="m29.919 6.163l-4.225 19.925c-.319 1.406-1.15 1.756-2.331 1.094l-6.438-4.744l-3.106 2.988c-.344.344-.631.631-1.294.631l.463-6.556L24.919 8.72c.519-.462-.113-.719-.806-.256l-14.75 9.288l-6.35-1.988c-1.381-.431-1.406-1.381.288-2.044l24.837-9.569c1.15-.431 2.156.256 1.781 2.013z"/></svg>
  </a>
  <a
    title="Share via Email"
    href={`mailto:?${new URLSearchParams({ body: shareTextWithURL })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 24 24"><g fill="none"><path fill="currentColor" d="M3 5V4a1 1 0 0 0-1 1zm18 0h1a1 1 0 0 0-1-1zM3 6h18V4H3zm17-1v12h2V5zm-1 13H5v2h14zM4 17V5H2v12zm1 1a1 1 0 0 1-1-1H2a3 3 0 0 0 3 3zm15-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 5l9 9l9-9"/></g></svg>
  </a>
  <a
    title="Print article"
    href={`https://www.printfriendly.com/print/?${new URLSearchParams({ url: shareURL })}`}
    target="_blank"
    class="hover:text-cyan-600 hover:dark:text-cyan-400"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="aspect-square w-[22px] md:w-[32px]" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M16 8V5H8v3H6V3h12v5zM4 10h16zm14 2.5q.425 0 .713-.288T19 11.5t-.288-.712T18 10.5t-.712.288T17 11.5t.288.713t.712.287M16 19v-4H8v4zm2 2H6v-4H2v-6q0-1.275.875-2.137T5 8h14q1.275 0 2.138.863T22 11v6h-4zm2-6v-4q0-.425-.288-.712T19 10H5q-.425 0-.712.288T4 11v4h2v-2h12v2z"/></svg>
  </a>
</div>
