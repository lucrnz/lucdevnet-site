<svg xmlns="http://www.w3.org/2000/svg" height="807" preserveAspectRatio="none" style="width:733px;height:807px;background:#fff" width="733"><rect fill="#F1F1F1" height="64.297" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="287.174" x="7" y="521.12"/><circle cx="86.273" cy="537.12" fill="#B4A7E5" style="stroke:#181818;stroke-width:1" r="11"/><path d="M82.195 532.886v-2.157h7.39v2.157h-2.468v8.078h2.468v2.156h-7.39v-2.156h2.469v-8.078h-2.47Z"/><text font-family="sans-serif" font-size="14" font-style="italic" textLength="120.128" x="106.773" y="541.967">AbstractMessage</text><path style="stroke:#181818;stroke-width:.5" d="M8 553.12h285.174M8 561.12h285.174"/><circle cx="18" cy="574.768" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="261.174" x="27" y="578.115">payload(): Record&lt;string, unknown&gt;</text><rect fill="#F1F1F1" height="80.594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="396.918" x="138.13" y="355.08"/><circle cx="274.791" cy="371.08" fill="#B4A7E5" style="stroke:#181818;stroke-width:1" r="11"/><path d="M270.712 366.846v-2.157h7.391v2.157h-2.469v8.078h2.47v2.156h-7.392v-2.156h2.47v-8.078h-2.47Z"/><text font-family="sans-serif" font-size="14" font-style="italic" textLength="115.097" x="295.291" y="375.927">AbstractListener</text><path style="stroke:#181818;stroke-width:.5" d="M139.13 387.08h394.918M139.13 395.08h394.918"/><circle cx="149.13" cy="408.728" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="73.056" x="158.13" y="412.075">id(): string</text><circle cx="149.13" cy="425.025" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="370.918" x="158.13" y="428.372">update(message: AbstractMessage): Promise&lt;void&gt;</text><rect fill="#F1F1F1" height="96.891" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="451.243" x="244.97" y="7"/><circle cx="404.699" cy="23" fill="#B4A7E5" style="stroke:#181818;stroke-width:1" r="11"/><path d="M400.62 18.766v-2.157h7.391v2.157h-2.469v8.078h2.469V29h-7.39v-2.156h2.468v-8.078h-2.469Z"/><text font-family="sans-serif" font-size="14" font-style="italic" textLength="123.286" x="425.199" y="27.847">AbstractPublisher</text><path style="stroke:#181818;stroke-width:.5" d="M245.97 39h449.243M245.97 47h449.243"/><circle cx="255.97" cy="60.648" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="388.739" x="264.97" y="63.995">addListener(listener: AbstractListener): Promise&lt;void&gt;</text><circle cx="255.97" cy="76.945" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="415.857" x="264.97" y="80.292">removeListener(listener: AbstractListener): Promise&lt;void&gt;</text><circle cx="255.97" cy="93.242" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="425.243" x="264.97" y="96.589">notifyListeners(message: AbstractMessage): Promise&lt;void&gt;</text><rect fill="#F1F1F1" height="113.188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="310.238" x="103.47" y="686.86"/><circle cx="223.66" cy="702.86" fill="#ADD1B2" style="stroke:#181818;stroke-width:1" r="11"/><path d="M226.628 708.5q-.578.298-1.218.438-.641.156-1.344.156-2.5 0-3.828-1.64-1.313-1.656-1.313-4.781t1.313-4.782q1.328-1.656 3.828-1.656.703 0 1.344.156.656.157 1.218.453v2.72q-.625-.579-1.218-.845-.594-.28-1.22-.28-1.343 0-2.03 1.077-.688 1.063-.688 3.157 0 2.093.688 3.171.687 1.063 2.03 1.063.626 0 1.22-.266.593-.281 1.218-.86v2.72Z"/><text font-family="sans-serif" font-size="14" textLength="61.359" x="244.16" y="707.707">Message</text><path style="stroke:#181818;stroke-width:.5" d="M104.47 718.86h308.238"/><path fill="none" style="stroke:#c82930;stroke-width:1" d="M111.47 729.508h6v6h-6z"/><text font-family="sans-serif" font-size="14" textLength="111.829" x="123.47" y="735.855">#subject: string</text><path fill="none" style="stroke:#c82930;stroke-width:1" d="M111.47 745.805h6v6h-6z"/><text font-family="sans-serif" font-size="14" textLength="114.686" x="123.47" y="752.152">#content: string</text><path style="stroke:#181818;stroke-width:.5" d="M104.47 759.454h308.238"/><circle cx="114.47" cy="773.102" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="284.238" x="123.47" y="776.449">Message(subject: string, content: string)</text><circle cx="114.47" cy="789.399" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="261.174" x="123.47" y="792.746">payload(): Record&lt;string, unknown&gt;</text><rect fill="#F1F1F1" height="113.188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="396.918" x="329.13" y="496.67"/><circle cx="495.175" cy="512.67" fill="#ADD1B2" style="stroke:#181818;stroke-width:1" r="11"/><path d="M498.144 518.31q-.579.298-1.22.438-.64.156-1.343.156-2.5 0-3.828-1.64-1.313-1.657-1.313-4.782 0-3.124 1.313-4.78 1.328-1.657 3.828-1.657.703 0 1.344.156.656.156 1.219.453v2.72q-.625-.579-1.22-.845-.593-.28-1.218-.28-1.344 0-2.031 1.077-.688 1.063-.688 3.156 0 2.094.688 3.172.687 1.063 2.031 1.063.625 0 1.219-.266.594-.281 1.219-.86v2.72Z"/><text font-family="sans-serif" font-size="14" textLength="56.328" x="515.675" y="517.517">Listener</text><path style="stroke:#181818;stroke-width:.5" d="M330.13 528.67h394.918"/><path fill="none" style="stroke:#c82930;stroke-width:1" d="M337.13 539.318h6v6h-6z"/><text font-family="sans-serif" font-size="14" textLength="73.862" x="349.13" y="545.665">#id: string</text><path style="stroke:#181818;stroke-width:.5" d="M330.13 552.967h394.918"/><circle cx="340.13" cy="566.615" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="129.384" x="349.13" y="569.962">Listener(id: string)</text><circle cx="340.13" cy="582.912" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="73.056" x="349.13" y="586.259">id(): string</text><circle cx="340.13" cy="599.209" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="370.918" x="349.13" y="602.556">update(message: AbstractMessage): Promise&lt;void&gt;</text><rect fill="#F1F1F1" height="113.188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="451.243" x="244.97" y="164.89"/><circle cx="434.083" cy="180.89" fill="#ADD1B2" style="stroke:#181818;stroke-width:1" r="11"/><path d="M437.051 186.53q-.578.297-1.218.438-.64.156-1.344.156-2.5 0-3.828-1.64-1.313-1.657-1.313-4.782t1.313-4.78q1.328-1.657 3.828-1.657.703 0 1.344.156.656.156 1.218.453v2.72q-.625-.579-1.218-.845-.594-.28-1.219-.28-1.344 0-2.031 1.077-.688 1.063-.688 3.156 0 2.094.688 3.172.687 1.063 2.031 1.063.625 0 1.219-.266.593-.281 1.218-.86v2.72Z"/><text font-family="sans-serif" font-size="14" textLength="64.518" x="454.583" y="185.737">Publisher</text><path style="stroke:#181818;stroke-width:.5" d="M245.97 196.89h449.243"/><path fill="none" style="stroke:#c82930;stroke-width:1" d="M252.97 207.538h6v6h-6z"/><text font-family="sans-serif" font-size="14" textLength="242.156" x="264.97" y="213.885">#listeners: Set&lt;AbstractListener&gt;</text><path style="stroke:#181818;stroke-width:.5" d="M245.97 221.187h449.243"/><circle cx="255.97" cy="234.835" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="388.739" x="264.97" y="238.182">addListener(listener: AbstractListener): Promise&lt;void&gt;</text><circle cx="255.97" cy="251.132" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="415.857" x="264.97" y="254.479">removeListener(listener: AbstractListener): Promise&lt;void&gt;</text><circle cx="255.97" cy="267.429" fill="#84BE84" style="stroke:#038048;stroke-width:1" r="3"/><text font-family="sans-serif" font-size="14" textLength="425.243" x="264.97" y="270.776">notifyListeners(message: AbstractMessage): Promise&lt;void&gt;</text><g fill="none"><path d="M177.624 601.38c15.74 27.41 29.946 52.19 48.836 85.09M168.66 585.77l3.761 18.597 10.406-5.975-14.167-12.622z" style="stroke:#181818;stroke-width:1"/></g><g fill="none"><path d="M399.224 447.503c22.43 18.31 35.506 28.977 59.946 48.927M385.28 436.12l10.15 16.031 7.588-9.296-17.738-6.735z" style="stroke:#181818;stroke-width:1"/></g><g fill="none"><path d="M470.59 122.34v42.1M470.59 104.34l-6 18h12l-6-18z" style="stroke:#181818;stroke-width:1"/></g><path d="M514.84 278.58c15.07 22.46 30.05 49.42 37.75 76.5 13.25 46.64 5.975 95.682-4.685 135.672" fill="none" style="stroke:#181818;stroke-width:1"/><path fill="#181818" style="stroke:#181818;stroke-width:1" d="m546.36 496.55 6.183-7.666-4.895 2.835-2.835-4.896 1.547 9.727z"/><text font-family="sans-serif" font-size="13" textLength="47.861" x="559.59" y="399.947">notifies</text><path d="M427.08 278.3c-19.41 24.89-38.14 48.928-55.81 71.589" fill="none" style="stroke:#181818;stroke-width:1"/><path fill="#181818" style="stroke:#181818;stroke-width:1" d="m367.58 354.62 8.689-4.637-5.614.694-.695-5.614-2.38 9.557z"/><text font-family="sans-serif" font-size="13" textLength="92.047" x="404.59" y="321.147">adds/removes</text><path d="M447.61 610.22c-34.38 24.05-69.573 48.671-103.973 72.731" fill="none" style="stroke:#181818;stroke-width:1"/><path fill="#181818" style="stroke:#181818;stroke-width:1" d="m338.72 686.39 9.668-1.88-5.571-.986.986-5.57-5.083 8.436z"/><text font-family="sans-serif" font-size="13" textLength="52.578" x="401.59" y="652.927">updates</text></svg>